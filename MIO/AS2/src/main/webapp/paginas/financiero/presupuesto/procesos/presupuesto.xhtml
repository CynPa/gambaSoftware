<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:p="http://primefaces.org/ui" xmlns:as2="http://java.sun.com/jsf/composite/componentes">

<ui:composition template="/template/template.xhtml">

	<ui:define name="contenido">

		<h:form prependId="false" id="form">

			<p:outputPanel id="panelContenedor">

				<as2:toolBar bean="#{presupuestoBean}">
					<as2:buttonEliminar bean="#{presupuestoBean}" />
					<as2:buttonExportaExcel bean="#{presupuestoBean}" tabla=":form:tablaPresupuesto" />

					<as2:buttonImprimir beanReporte="#{reportePresupuestoNormalBean}" bean="#{presupuestoBean}" target="#{reportePresupuestoNormalBean.presupuesto}"
						value="#{presupuestoBean.presupuesto}" />
						
				</as2:toolBar>

				<p:separator />

				<!-- 				Inicio Panel asignacion de valores -->
				<p:outputPanel id="pgPanelAccion">
					<p:dialog header="#{msgs.lbl_asignar} #{msgs.lbl_valores}" widgetVar="accion" modal="true" height="240" width="600" showEffect="slide"
						hideEffect="slide" closable="false" id="dialogAcciones">

						<h:panelGrid columns="2" columnClasses="columnaEtiqueta,columnaValor">

							<h:outputText value="#{msgs.lbl_todos}:" />
							<p:selectBooleanCheckbox value="#{presupuestoBean.seleccionarTodos}">
								<f:validateBean />
								<p:ajax process="@this" global="false" listener="#{presupuestoBean.selecccionarTodos}" update=":form:panelIndicadoresMeses" />
							</p:selectBooleanCheckbox>

						</h:panelGrid>
						<h:panelGrid columns="4" columnClasses="columnaEtiqueta,columnaValor,columnaEtiqueta,columnaValor" id="panelIndicadoresMeses">

							<h:outputText value="#{msgs.lbl_enero}:" />
							<p:selectBooleanCheckbox value="#{presupuestoBean.seleccionarEnero}" disabled="#{presupuestoBean.disableEnero}">
								<f:validateBean />
								<p:ajax process="@this" update="@this" event="change" global="false" />
							</p:selectBooleanCheckbox>

							<h:outputText value="#{msgs.lbl_febrero}:" />
							<p:selectBooleanCheckbox value="#{presupuestoBean.seleccionarFebrero}" disabled="#{presupuestoBean.disableFebrero}">
								<f:validateBean />
								<p:ajax process="@this" update="@this" event="change" global="false" />
							</p:selectBooleanCheckbox>

							<h:outputText value="#{msgs.lbl_marzo}:" />
							<p:selectBooleanCheckbox value="#{presupuestoBean.seleccionarMarzo}" disabled="#{presupuestoBean.disableMarzo}">
								<f:validateBean />
								<p:ajax process="@this" update="@this" event="change" global="false" />
							</p:selectBooleanCheckbox>

							<h:outputText value="#{msgs.lbl_abril}:" />
							<p:selectBooleanCheckbox value="#{presupuestoBean.seleccionarAbril}" disabled="#{presupuestoBean.disableAbril}">
								<f:validateBean />
								<p:ajax process="@this" update="@this" event="change" global="false" />
							</p:selectBooleanCheckbox>

							<h:outputText value="#{msgs.lbl_mayo}:" />
							<p:selectBooleanCheckbox value="#{presupuestoBean.seleccionarMayo}" disabled="#{presupuestoBean.disableMayo}">
								<f:validateBean />
								<p:ajax process="@this" update="@this" event="change" global="false" />
							</p:selectBooleanCheckbox>

							<h:outputText value="#{msgs.lbl_junio}:" />
							<p:selectBooleanCheckbox value="#{presupuestoBean.seleccionarJunio}" disabled="#{presupuestoBean.disableJunio}">
								<f:validateBean />
								<p:ajax process="@this" update="@this" event="change" global="false" />
							</p:selectBooleanCheckbox>

							<h:outputText value="#{msgs.lbl_julio}:" />
							<p:selectBooleanCheckbox value="#{presupuestoBean.seleccionarJulio}" disabled="#{presupuestoBean.disableJulio}">
								<f:validateBean />
								<p:ajax process="@this" update="@this" event="change" global="false" />
							</p:selectBooleanCheckbox>

							<h:outputText value="#{msgs.lbl_agosto}:" />
							<p:selectBooleanCheckbox value="#{presupuestoBean.seleccionarAgosto}" disabled="#{presupuestoBean.disableAgosto}">
								<f:validateBean />
								<p:ajax process="@this" update="@this" event="change" global="false" />
							</p:selectBooleanCheckbox>

							<h:outputText value="#{msgs.lbl_septiembre}:" />
							<p:selectBooleanCheckbox value="#{presupuestoBean.seleccionarSeptiembre}" disabled="#{presupuestoBean.disableSeptiembre}">
								<f:validateBean />
								<p:ajax process="@this" update="@this" event="change" global="false" />
							</p:selectBooleanCheckbox>

							<h:outputText value="#{msgs.lbl_octubre}:" />
							<p:selectBooleanCheckbox value="#{presupuestoBean.seleccionarOctubre}" disabled="#{presupuestoBean.disableOctubre}">
								<f:validateBean />
								<p:ajax process="@this" update="@this" event="change" global="false" />
							</p:selectBooleanCheckbox>

							<h:outputText value="#{msgs.lbl_noviembre}:" />
							<p:selectBooleanCheckbox value="#{presupuestoBean.seleccionarNoviembre}" disabled="#{presupuestoBean.disableNoviembre}">
								<f:validateBean />
								<p:ajax process="@this" update="@this" event="change" global="false" />
							</p:selectBooleanCheckbox>

							<h:outputText value="#{msgs.lbl_diciembre}:" />
							<p:selectBooleanCheckbox value="#{presupuestoBean.seleccionarDiciembre}" disabled="#{presupuestoBean.disableDiciembre}">
								<f:validateBean />
								<p:ajax process="@this" update="@this" event="change" global="false" />
							</p:selectBooleanCheckbox>

						</h:panelGrid>
						<h:panelGrid columns="2" columnClasses="columnaEtiqueta,columnaValor">
							<h:outputText value="#{msgs.lbl_valor}:" />
							<p:inputText value="#{presupuestoBean.valor}">
								<f:validateBean />
								<p:ajax process="@this" update="@this" event="change" global="false" />
							</p:inputText>

							<h:outputText value="#{msgs.lbl_por_ciento_palabras} incremento:" />
							<p:inputText value="#{presupuestoBean.porcentaje}">
								<f:validateBean />
								<p:ajax process="@this" update="@this" event="change" global="false" />
							</p:inputText>
						</h:panelGrid>
						<f:facet name="footer">
							<center>
								<p:commandButton id="btnAccion" action="#{presupuestoBean.asignarValores}" value="#{msgs.btn_aceptar}" process="@this"
									update=":form:panelDetallePresupuesto" oncomplete="validacionesModal(xhr, status, args, accion)">
								</p:commandButton>
								<p:commandButton id="btnCancelarAccion" value="#{msgs.btn_cancelar}" action="#{presupuestoBean.limpiarDatosDialog}" onclick="accion.hide();"
									process="@this" update="@none">
								</p:commandButton>
							</center>
						</f:facet>

					</p:dialog>
				</p:outputPanel>
				<!-- 				Fin Panel asignacion de valores -->

				<p:outputPanel id="panelNuevo">

					<p:panel rendered="#{presupuestoBean.editado}" header="#{msgs.lbl_panel_edicion} ( #{msgs.lbl_presupuesto} )">

						<p:fieldset>

							<h:panelGrid id="panelDetalle" columns="#{presupuestoBean.numeroColumnasPanelNuevo}"
								columnClasses="columnaEtiqueta,columnaValor,columnaEtiqueta,columnaValor">

								<p:outputLabel for="cboEjercicio" value="#{msgs.lbl_ejercicio}:" />
								<p:selectOneMenu styleClass="input-text" value="#{presupuestoBean.presupuesto.ejercicio}" id="cboEjercicio" required="true"
									rendered="#{presupuestoBean.presupuesto.id==0}">
									<f:selectItem itemValue="" itemLabel="#{msgs.lbl_seleccione}" />
									<f:selectItems value="#{presupuestoBean.listaEjercicio}" var="_ejercicio" itemLabel="#{_ejercicio.nombre}" itemValue="#{_ejercicio}" />
									<p:ajax update="cboDimensionContable" event="change" process="cboEjercicio" />
								</p:selectOneMenu>
								<h:outputText rendered="#{presupuestoBean.presupuesto.id>0}" value="#{presupuestoBean.presupuesto.ejercicio.nombre}" />
								<p:outputLabel for="cboDimensionContable" value="#{presupuestoBean.nombreDimension}:" />
								<p:selectOneMenu styleClass="input-text" value="#{presupuestoBean.dimensionContable}" id="cboDimensionContable">
									<f:selectItem itemValue="" itemLabel="#{msgs.lbl_seleccione}" />
									<f:selectItems value="#{presupuestoBean.listaDimensionContable}" var="_dimensionContable"
										itemLabel="#{_dimensionContable.codigo} - #{_dimensionContable.nombre}" itemValue="#{_dimensionContable}" />
									<f:validateBean />
									<p:ajax process="@this" update=":form:panelDetallePresupuesto" listener="#{presupuestoBean.actualizarDetallePresupuesto}" />
								</p:selectOneMenu>

							</h:panelGrid>
						</p:fieldset>

						<p:spacer width="2px" height="2px" />

						<p:fieldset>
							<!--
							<h:panelGroup>
								<p:commandButton value="#{msgs.btn_agregar}" id="btnAgregarDetalle" action="#{presupuestoBean.agregarDetalle}"
									update=":form:panelDetallePresupuesto" process="@this, :form:panelDetallePresupuesto" icon="ui-icon-plus" />
							</h:panelGroup>
							-->

							<p:spacer width="2px" height="2px" />

							<p:outputPanel id="panelDetallePresupuesto">

								<p:dataTable filterDelay="#{sesionControler.retrasoFiltro}" value="#{presupuestoBean.listaDetallePresupuesto}" id="tablaDetallePresupuesto"
									rowIndexVar="secuencial" binding="#{presupuestoBean.dtDetallePresupuesto}" emptyMessage="#{msgs.msg_no_hay_datos}" var="_detallePresupuesto"
									paginator="true" paginatorPosition="bottom" style="width:100%" rows="#{presupuestoBean.numeroFilas}"
									rowsPerPageTemplate="#{presupuestoBean.numeroFilasPorPagina}" rowKey="#{_detallePresupuesto.rowKey}"
									selection="#{presupuestoBean.detallePresupuesto}" selectionMode="single">

									<!--  <f:facet name="header">
										<h:outputText value="#{msgs.lbl_partida_presupuestaria}" />
									</f:facet>
-->
									<p:column headerText="Nº">
										<h:outputText value="#{secuencial+1}" />
									</p:column>

									<p:ajax event="rowSelect" listener="#{presupuestoBean.onRowSelect}" update=":form:panelDetallePresupuesto"
										process=":form:panelDetallePresupuesto" />

									<p:column headerText="#{msgs.lbl_codigo}" sortBy="#{_detallePresupuesto.cuentaContable.codigo}"
										filterBy="#{_detallePresupuesto.cuentaContable.codigo}" styleClass="tableCell">
										<h:outputText id="txtCodigoCuentaContable" value="#{_detallePresupuesto.cuentaContable.codigo}" />
									</p:column>

									<p:column headerText="#{msgs.lbl_cuenta_contable}" sortBy="#{_detallePresupuesto.cuentaContable.nombre}"
										filterBy="#{_detallePresupuesto.cuentaContable.nombre}" styleClass="columna90 tableCell">
										<h:outputText id="txtnombreCuentaContable" value="#{_detallePresupuesto.cuentaContable.nombre}" />

									</p:column>

									<p:column headerText="#{msgs.lbl_dimension_contable}" sortBy="#{_detallePresupuesto.dimensionContable.codigo}"
										filterBy="#{_detallePresupuesto.dimensionContable.codigo}" styleClass="tableCell">
										<h:outputText id="txtDimensionCuentaContable" value="#{_detallePresupuesto.dimensionContable.codigo}" />
									</p:column>
									<!-- 
									<p:column headerText="#{msgs.lbl_descripcion}">
										<p:inputText id="txtDescripcion" value="#{_detallePresupuesto.descripcion}">
											<f:validateBean />
											<p:ajax process="@this" global="false"></p:ajax>
										</p:inputText>
									</p:column>
									-->

									<p:column styleClass=" columnaDTAccion tableCell">
										<p:commandButton id="btnOpenAccion" oncomplete="accion.show();" icon="ui-icon-gear" title="#{msgs.lbl_asignar} #{msgs.lbl_valores}"
											update=":form:pgPanelAccion" process="@this" actionListener="#{presupuestoBean.habilitarMeses(1)}">
											<f:setPropertyActionListener target="#{presupuestoBean.detallePresupuesto}" value="#{_detallePresupuesto}" />
											<f:setPropertyActionListener target="#{presupuestoBean.asignarDetalle}" value="true" />
										</p:commandButton>
									</p:column>

									<p:column styleClass="columna90 tableCell">
										<f:facet name="header">
											<p:commandLink process="@this" oncomplete="accion.show();" title="#{msgs.lbl_asignar} #{msgs.lbl_valores}" update=":form:pgPanelAccion"
												actionListener="#{presupuestoBean.habilitarMeses(1)}">
												<h:outputText value="#{msgs.lbl_enero}" />
											</p:commandLink>
										</f:facet>
										<p:inputText id="txtValorEnero" value="#{_detallePresupuesto.valorEnero}" styleClass="columnaDTValor tableCell">
											<f:validateBean />
											<p:ajax process="@this" update=":form:panelDetallePresupuesto" event="change" global="false" />
										</p:inputText>
									</p:column>

									<p:column styleClass="columna90 tableCell">
										<f:facet name="header">
											<p:commandLink process="@this" oncomplete="accion.show();" title="#{msgs.lbl_asignar} #{msgs.lbl_valores}" update=":form:pgPanelAccion"
												actionListener="#{presupuestoBean.habilitarMeses(2)}">
												<h:outputText value="#{msgs.lbl_febrero}" />
											</p:commandLink>
										</f:facet>
										<p:inputText id="txtValorFebrero" value="#{_detallePresupuesto.valorFebrero}" styleClass="columnaDTValor tableCell">
											<f:validateBean />
											<p:ajax process="@this" update=":form:panelDetallePresupuesto" event="change" global="false" />
										</p:inputText>
									</p:column>

									<p:column styleClass="columna90 tableCell">
										<f:facet name="header">
											<p:commandLink process="@this" oncomplete="accion.show();" title="#{msgs.lbl_asignar} #{msgs.lbl_valores}" update=":form:pgPanelAccion"
												actionListener="#{presupuestoBean.habilitarMeses(3)}">
												<h:outputText value="#{msgs.lbl_marzo}" />
											</p:commandLink>
										</f:facet>
										<p:inputText id="txtValorMarzo" value="#{_detallePresupuesto.valorMarzo}" styleClass="columnaDTValor tableCell">
											<f:validateBean />
											<p:ajax process="@this" update=":form:panelDetallePresupuesto" event="change" global="false" />
										</p:inputText>
									</p:column>

									<p:column styleClass="columna90 tableCell">
										<f:facet name="header">
											<p:commandLink process="@this" oncomplete="accion.show();" title="#{msgs.lbl_asignar} #{msgs.lbl_valores}" update=":form:pgPanelAccion"
												actionListener="#{presupuestoBean.habilitarMeses(4)}">
												<h:outputText value="#{msgs.lbl_abril}" />
											</p:commandLink>
										</f:facet>
										<p:inputText id="txtValorAbril" value="#{_detallePresupuesto.valorAbril}" styleClass="columnaDTValor tableCell">
											<f:validateBean />
											<p:ajax process="@this" update=":form:panelDetallePresupuesto" event="change" global="false" />
										</p:inputText>
									</p:column>

									<p:column styleClass="columna90 tableCell">
										<f:facet name="header">
											<p:commandLink process="@this" oncomplete="accion.show();" title="#{msgs.lbl_asignar} #{msgs.lbl_valores}" update=":form:pgPanelAccion"
												actionListener="#{presupuestoBean.habilitarMeses(5)}">
												<h:outputText value="#{msgs.lbl_mayo}" />
											</p:commandLink>
										</f:facet>
										<p:inputText id="txtValorMayo" value="#{_detallePresupuesto.valorMayo}" styleClass="columnaDTValor tableCell">
											<f:validateBean />
											<p:ajax process="@this" update=":form:panelDetallePresupuesto" event="change" global="false" />
										</p:inputText>
									</p:column>

									<p:column styleClass="columna90 tableCell">
										<f:facet name="header">
											<p:commandLink process="@this" oncomplete="accion.show();" title="#{msgs.lbl_asignar} #{msgs.lbl_valores}" update=":form:pgPanelAccion"
												actionListener="#{presupuestoBean.habilitarMeses(6)}">
												<h:outputText value="#{msgs.lbl_junio}" />
											</p:commandLink>
										</f:facet>
										<p:inputText id="txtValorJunio" value="#{_detallePresupuesto.valorJunio}" styleClass="columnaDTValor tableCell">
											<f:validateBean />
											<p:ajax process="@this" update=":form:panelDetallePresupuesto" event="change" global="false" />
										</p:inputText>
									</p:column>

									<p:column styleClass="columna90 tableCell">
										<f:facet name="header">
											<p:commandLink process="@this" oncomplete="accion.show();" title="#{msgs.lbl_asignar} #{msgs.lbl_valores}" update=":form:pgPanelAccion"
												actionListener="#{presupuestoBean.habilitarMeses(7)}">
												<h:outputText value="#{msgs.lbl_julio}" />
											</p:commandLink>
										</f:facet>
										<p:inputText id="txtValorJulio" value="#{_detallePresupuesto.valorJulio}" styleClass="columnaDTValor tableCell">
											<f:validateBean />
											<p:ajax process="@this" update=":form:panelDetallePresupuesto" event="change" global="false" />
										</p:inputText>
									</p:column>

									<p:column styleClass="columna90 tableCell">
										<f:facet name="header">
											<p:commandLink process="@this" oncomplete="accion.show();" title="#{msgs.lbl_asignar} #{msgs.lbl_valores}" update=":form:pgPanelAccion"
												actionListener="#{presupuestoBean.habilitarMeses(8)}">
												<h:outputText value="#{msgs.lbl_agosto}" />
											</p:commandLink>
										</f:facet>
										<p:inputText id="txtValorAgosto" value="#{_detallePresupuesto.valorAgosto}" styleClass="columnaDTValor tableCell">
											<f:validateBean />
											<p:ajax process="@this" update=":form:panelDetallePresupuesto" event="change" global="false" />
										</p:inputText>
									</p:column>

									<p:column styleClass="columna90 tableCell">
										<f:facet name="header">
											<p:commandLink process="@this" oncomplete="accion.show();" title="#{msgs.lbl_asignar} #{msgs.lbl_valores}" update=":form:pgPanelAccion"
												actionListener="#{presupuestoBean.habilitarMeses(9)}">
												<h:outputText value="#{msgs.lbl_septiembre}" />
											</p:commandLink>
										</f:facet>
										<p:inputText id="txtValorSeptiembre" value="#{_detallePresupuesto.valorSeptiembre}" styleClass="columnaDTValor tableCell">
											<f:validateBean />
											<p:ajax process="@this" update=":form:panelDetallePresupuesto" event="change" global="false" />
										</p:inputText>
									</p:column>

									<p:column styleClass="columna90 tableCell">
										<f:facet name="header">
											<p:commandLink process="@this" oncomplete="accion.show();" title="#{msgs.lbl_asignar} #{msgs.lbl_valores}" update=":form:pgPanelAccion"
												actionListener="#{presupuestoBean.habilitarMeses(10)}">
												<h:outputText value="#{msgs.lbl_octubre}" />
											</p:commandLink>
										</f:facet>
										<p:inputText id="txtValorOctubre" value="#{_detallePresupuesto.valorOctubre}" styleClass="columnaDTValor tableCell">
											<f:validateBean />
											<p:ajax process="@this" update=":form:panelDetallePresupuesto" event="change" global="false" />
										</p:inputText>
									</p:column>

									<p:column styleClass="columna90 tableCell">
										<f:facet name="header">
											<p:commandLink process="@this" oncomplete="accion.show();" title="#{msgs.lbl_asignar} #{msgs.lbl_valores}" update=":form:pgPanelAccion"
												actionListener="#{presupuestoBean.habilitarMeses(11)}">
												<h:outputText value="#{msgs.lbl_noviembre}" />
											</p:commandLink>
										</f:facet>
										<p:inputText id="txtValorNoviembre" value="#{_detallePresupuesto.valorNoviembre}" styleClass="columnaDTValor tableCell">
											<f:validateBean />
											<p:ajax process="@this" update=":form:panelDetallePresupuesto" event="change" global="false" />
										</p:inputText>
									</p:column>

									<p:column styleClass="columna90 tableCell">
										<f:facet name="header">
											<p:commandLink process="@this" oncomplete="accion.show();" title="#{msgs.lbl_asignar} #{msgs.lbl_valores}" update=":form:pgPanelAccion"
												actionListener="#{presupuestoBean.habilitarMeses(12)}">
												<h:outputText value="#{msgs.lbl_diciembre}" />
											</p:commandLink>
										</f:facet>
										<p:inputText id="txtValorDiciembre" value="#{_detallePresupuesto.valorDiciembre}" styleClass="columnaDTValor tableCell">
											<f:validateBean />
											<p:ajax process="@this" update=":form:panelDetallePresupuesto" event="change" global="false" />
										</p:inputText>
									</p:column>

									<!--  <p:column styleClass="columnaDTAccion tableCell">
										<p:commandButton id="btnEliminarDetalle" action="#{presupuestoBean.eliminarDetalle}" icon="ui-icon-trash" title="#{msgs.lbl_eliminar}"
											update=":form:panelDetallePresupuesto" process="@this" />
									</p:column>-->

									<p:columnGroup type="footer">
										<p:row>
											<p:column colspan="5" footerText="#{msgs.lbl_total}:" style="text-align:right" />
											<p:column>
												<f:facet name="footer">
													<h:outputText value="#{presupuestoBean.totalValorEnero}">
														<f:convertNumber pattern="#{presupuestoBean.formatoDinero}" />
													</h:outputText>
												</f:facet>
											</p:column>
											<p:column>
												<f:facet name="footer">
													<h:outputText value="#{presupuestoBean.totalValorFebrero}">
														<f:convertNumber pattern="#{presupuestoBean.formatoDinero}" />
													</h:outputText>
												</f:facet>
											</p:column>
											<p:column>
												<f:facet name="footer">
													<h:outputText value="#{presupuestoBean.totalValorMarzo}">
														<f:convertNumber pattern="#{presupuestoBean.formatoDinero}" />
													</h:outputText>
												</f:facet>
											</p:column>
											<p:column>
												<f:facet name="footer">
													<h:outputText value="#{presupuestoBean.totalValorAbril}">
														<f:convertNumber pattern="#{presupuestoBean.formatoDinero}" />
													</h:outputText>
												</f:facet>
											</p:column>
											<p:column>
												<f:facet name="footer">
													<h:outputText value="#{presupuestoBean.totalValorMayo}">
														<f:convertNumber pattern="#{presupuestoBean.formatoDinero}" />
													</h:outputText>
												</f:facet>
											</p:column>
											<p:column>
												<f:facet name="footer">
													<h:outputText value="#{presupuestoBean.totalValorJunio}">
														<f:convertNumber pattern="#{presupuestoBean.formatoDinero}" />
													</h:outputText>
												</f:facet>
											</p:column>
											<p:column>
												<f:facet name="footer">
													<h:outputText value="#{presupuestoBean.totalValorJulio}">
														<f:convertNumber pattern="#{presupuestoBean.formatoDinero}" />
													</h:outputText>
												</f:facet>
											</p:column>
											<p:column>
												<f:facet name="footer">
													<h:outputText value="#{presupuestoBean.totalValorAgosto}">
														<f:convertNumber pattern="#{presupuestoBean.formatoDinero}" />
													</h:outputText>
												</f:facet>
											</p:column>
											<p:column>
												<f:facet name="footer">
													<h:outputText value="#{presupuestoBean.totalValorSeptiembre}">
														<f:convertNumber pattern="#{presupuestoBean.formatoDinero}" />
													</h:outputText>
												</f:facet>
											</p:column>
											<p:column>
												<f:facet name="footer">
													<h:outputText value="#{presupuestoBean.totalValorOctubre}">
														<f:convertNumber pattern="#{presupuestoBean.formatoDinero}" />
													</h:outputText>
												</f:facet>
											</p:column>
											<p:column>
												<f:facet name="footer">
													<h:outputText value="#{presupuestoBean.totalValorNoviembre}">
														<f:convertNumber pattern="#{presupuestoBean.formatoDinero}" />
													</h:outputText>
												</f:facet>
											</p:column>
											<p:column>
												<f:facet name="footer">
													<h:outputText value="#{presupuestoBean.totalValorDiciembre}">
														<f:convertNumber pattern="#{presupuestoBean.formatoDinero}" />
													</h:outputText>
												</f:facet>
											</p:column>
										</p:row>
									</p:columnGroup>

								</p:dataTable>

							</p:outputPanel>

						</p:fieldset>

					</p:panel>
				</p:outputPanel>

				<p:outputPanel id="panelListado">
					<p:panel header="#{msgs.lbl_panel_listado} ( #{msgs.lbl_presupuesto} )" rendered="#{!presupuestoBean.editado}">

						<p:dataTable filterDelay="#{sesionControler.retrasoFiltro}" id="tablaPresupuesto" rowIndexVar="secuencial"
							emptyMessage="#{msgs.msg_no_hay_datos}" value="#{presupuestoBean.listaPresupuesto}" var="_presupuesto"
							binding="#{presupuestoBean.dtPresupuesto}" paginator="true" paginatorPosition="bottom" style="width:100%" rows="#{presupuestoBean.numeroFilas}"
							rowsPerPageTemplate="#{presupuestoBean.numeroFilasPorPagina}" selection="#{presupuestoBean.presupuesto}" selectionMode="single"
							rowKey="#{_presupuesto.idPresupuesto}" lazy="true">

							<p:column styleClass="columnaDTAccion">
								<f:facet name="header">
									<h:outputText value="Nº" />
								</f:facet>
								<h:outputText value="#{secuencial+1}" />
							</p:column>

							<p:column sortBy="#{_presupuesto.ejercicio.nombre}" filterBy="#{_presupuesto.ejercicio.nombre}">
								<f:facet name="header">
									<h:outputText value="#{msgs.lbl_ejercicio}" />
								</f:facet>
								<h:outputText value="#{_presupuesto.ejercicio.nombre}" />
							</p:column>
							<!-- 
							<p:column sortBy="#{_presupuesto.dimensionContable.nombre}" filterBy="#{_presupuesto.dimensionContable.nombre}">
								<f:facet name="header">
									<h:outputText value="#{msgs.lbl_dimension_contable}" />
								</f:facet>
								<h:outputText value="#{_presupuesto.dimensionContable.codigo} - #{_presupuesto.dimensionContable.nombre}" />
							</p:column>
							-->
						</p:dataTable>
					</p:panel>

					<p:separator />
					<ui:include src="/template/auditoriaRapida.xhtml">
						<ui:param name="fechaCreacion" value="#{presupuestoBean.presupuesto.fechaCreacion}" />
						<ui:param name="usuarioCreacion" value="#{presupuestoBean.presupuesto.usuarioCreacion}" />
						<ui:param name="fechaModificacion" value="#{presupuestoBean.presupuesto.fechaModificacion}" />
						<ui:param name="usuarioModificacion" value="#{presupuestoBean.presupuesto.usuarioModificacion}" />
					</ui:include>

				</p:outputPanel>
			</p:outputPanel>
		</h:form>
	</ui:define>
</ui:composition>
</html>
